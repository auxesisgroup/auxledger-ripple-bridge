{% extends 'admin_panel/base.html' %}

{% block mybody %}
    <h1 style="color:white" align="center">Add Admin Application User</h1>
    <br>
    <!-- Add App User Form -->
    <form class="form-horizontal" action="" method="post">{% csrf_token %}
      <div class="form-group">
        <label class="text-primary col-sm-2" for="app_user_name" align="right" style="color:white">User Name :</label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="app_user_name" name="app_user_name" placeholder="User Name" required>
        </div>
      </div>
      <div class="form-group">
        <label class="text-primary col-sm-2" for="app_user_url" align="right" style="color:white">Notification URL:</label>
        <div class="col-sm-8">
          <input type="text" class="form-control" id="app_user_url" name="app_user_url" placeholder="Notification URL" required>
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-10">
          <button type="submit" class="btn btn-default">Submit</button>
        </div>
      </div>
    </form>

    <br>
    {% if result %}
        <div class="form-group">
                <label class="text-primary col-sm-2"></label>
            <div class="col-sm-8">
                <label class="text-primary col-sm-8" align="left" style="color:orange">{{ result }}</label>
            </div>
        </div>
        <br>
    {% endif %}

    <hr>

    <!-- Data : App User -->
    <style>
        th{ color : cyan }
        td{ color : white }
    </style>
    {% if app_user_data %}

        <table class="table">
          <thead class="thead-light">
            <tr>
              <th scope="col">Number</th>
              <th scope="col">User Name</th>
              <th scope="col">Token</th>
              <th scope="col">Notification URL</th>
              <th scope="col">App Key</th>
              <th scope="col">App Secret</th>
            </tr>
          </thead>
          <tbody>
            {% for row in app_user_data %}
                <tr>
                    <td>{{ forloop.counter }}</td>
                    <td>{{ row.user_name }}</td>
                    <td>{{ row.token }}</td>
                    <td>{{ row.notification_url }}</td>
                    <td>{{ row.app_key }}</td>
                    <td>{{ row.app_secret }}</td>
                </tr>
            {% endfor %}
          </tbody>
        </table>


    {% endif %}

{% endblock %}